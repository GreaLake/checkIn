# 移动端签到打卡系统

## 项目简介

这是一个基于React开发的移动端签到打卡系统，专为工程部出差管理设计。系统支持多种打卡类型、审批流程和考勤统计功能。
测试功能

## 功能特性

### 🎯 核心功能

1. **签到打卡**
   - 支持施工打卡、在途打卡、停工打卡三种类型
   - 自动获取地理位置和当前时间
   - 签到/签退双时间点记录
   - 支持代打卡功能

2. **审批流程**
   - 队员打卡后需要队长审批
   - 审批时填写工作内容
   - 支持通过/驳回操作
   - 实时状态跟踪

3. **考勤统计**
   - 自动计算工作时长
   - 按类型统计工时（施工工时、在途工时、停工工时）
   - 支持时间范围、用户、类型筛选
   - CSV格式考勤表导出
   - 个人工时统计分析

### 📱 移动端优化

- 完全适配手机端界面
- 响应式设计，支持各种屏幕尺寸
- 触摸友好的交互设计
- 底部导航栏便于操作
- 支持安全区域适配

## 技术栈

- **前端框架**: React 18
- **UI组件库**: Ant Design 5.x
- **样式框架**: Tailwind CSS
- **路由管理**: React Router 6
- **时间处理**: Day.js
- **数据存储**: LocalStorage (演示用)

## 项目结构

```
src/
├── pages/
│   ├── CheckInPage.js      # 签到打卡页面
│   ├── ApprovalPage.js     # 审批管理页面
│   └── AttendancePage.js   # 考勤统计页面
├── App.js                  # 主应用组件
├── App.css                 # 应用样式
├── index.js                # 入口文件
└── index.css               # 全局样式
```

## 安装和运行

### 环境要求

- Node.js >= 14.0.0
- npm >= 6.0.0

### 安装依赖

```bash
npm install
```

### 启动开发服务器

```bash
npm start
```

应用将在 http://localhost:3000 启动

### 构建生产版本

```bash
npm run build
```

## 使用说明

### 签到打卡流程

1. 打开应用，默认进入签到页面
2. 确认签到人姓名（可修改用于代打卡）
3. 选择签到类型：
   - **施工打卡**：默认类型，用于上下班打卡
   - **在途打卡**：包含出发、到达、返程、到宁打卡
   - **停工打卡**：停工日上下班打卡
4. 确认签到时间和地点（自动获取）
5. 点击"签到"按钮完成签到
6. 工作结束后点击"签退"按钮

### 审批流程

1. 队长进入"审批"页面
2. 查看待审批记录列表
3. 点击"通过"填写工作内容并确认
4. 或点击"驳回"拒绝该打卡记录
5. 可查看已通过和已驳回的历史记录

### 考勤统计

1. 进入"考勤"页面
2. 选择时间范围、签到人和类型进行筛选
3. 查看统计图表和数据分析
4. 点击"统计分析"查看详细统计信息
5. 点击"导出CSV"下载考勤表

## 数据说明

### 打卡记录结构

```javascript
{
  id: "唯一标识",
  userName: "签到人姓名",
  checkInTime: "签到时间",
  checkOutTime: "签退时间",
  location: "签到地点",
  type: "打卡类型",
  subType: "子类型（在途打卡）",
  status: "状态",
  workContent: "工作内容",
  approved: "是否已审批",
  approvalTime: "审批时间"
}
```

### 工时计算规则

- **施工工时**：施工打卡类型的时间总和
- **在途工时**：在途打卡类型的时间总和
- **停工工时**：停工打卡类型的时间总和
- 工时计算精确到0.1小时

## 浏览器支持

- Chrome (推荐)
- Safari
- Firefox
- Edge

## 注意事项

1. **定位权限**：首次使用需要授予浏览器定位权限
2. **数据存储**：当前版本使用LocalStorage存储数据，刷新页面数据不会丢失
3. **时间同步**：应用使用设备本地时间，请确保设备时间准确
4. **网络环境**：建议在稳定的网络环境下使用

## 后续开发计划

- [ ] 集成后端API服务
- [ ] 用户登录和权限管理
- [ ] 工程信息管理
- [ ] 数据备份和同步
- [ ] 消息推送功能
- [ ] 离线模式支持

## 许可证

MIT License